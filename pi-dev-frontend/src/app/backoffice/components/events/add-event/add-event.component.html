<app-admin-layout>
  <br><br><br><br><br><br> 
        
            <h2>Add Event</h2>
            
            <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
              <div class="form-group">
                <label for="name">Event Name</label>
                <input
                  type="text"
                  id="name"
                  class="form-control"
                  formControlName="name"
                />
                <div *ngIf="eventForm.get('name')!.invalid && eventForm.get('name')!.touched" class="text-danger">
                  The name is required.
                </div>
              </div>
          
              <div class="form-group">
                <label for="date">Start Date</label>
                <input
                  type="date"
                  id="date"
                  class="form-control"
                  formControlName="date"
                  [min]="todayDate()"
                />
                <div *ngIf="eventForm.get('date')!.hasError('pastDate') && eventForm.get('date')!.touched" class="text-danger">
                  Start date cannot be in the past.
                </div>
                <div *ngIf="eventForm.get('date')!.invalid && eventForm.get('date')!.touched" class="text-danger">
                  Start Date is required.
                </div>
              </div>
          
              <div class="form-group">
                <label for="endDate">End Date</label>
                <input
                  type="date"
                  id="endDate"
                  class="form-control"
                  formControlName="endDate"
                  [min]="todayDate()"
                />
                <div *ngIf="eventForm.get('endDate')!.invalid && eventForm.get('endDate')!.touched" class="text-danger">
                  End Date is required.
                </div>
              </div>
              <div class="form-group">
                <label for="max">Max </label>
                <input
                  type="text"
                  id="max"
                  class="form-control"
                  formControlName="max"
                />
                <div *ngIf="eventForm.get('max')!.invalid && eventForm.get('max')!.touched" class="text-danger">
                  max is required.
                </div>
              </div>
              <div class="form-group" *ngIf="!eventForm.get('isOnline')!.value">
                <label for="location">Location</label>
                <input
                  type="text"
                  id="location"
                  class="form-control"
                  formControlName="location"
                />
                <div *ngIf="eventForm.get('location')!.invalid && eventForm.get('location')!.touched" class="text-danger">
                  Location is required.
                </div>
              </div>
              
          
              <!-- <div class="form-group">
                <label for="description">Description </label>
                <textarea
                  id="description"
                  class="form-control"
                  formControlName="description"
                  rows="3"
                ></textarea>
              </div> -->
              <button type="button" (click)="generateDescription()">Générer une description</button>

              <!-- Champ description éditable -->
              <div>
                <label for="description">Description</label>
                <textarea id="description" formControlName="description" rows="5" cols="50"></textarea>
              </div>
              
              <div class="form-group">
                <label for="banner">URL Poster</label>
                <input
                  type="text"
                  id="banner"
                  class="form-control"
                  formControlName="banner"
                />
              </div>
              <div class="form-group form-check">
                <input
                  type="checkbox"
                  id="isOnline"
                  class="form-check-input"
                  formControlName="isOnline"
                />
                <label class="form-check-label" for="isOnline">Événement en ligne</label>
              </div>
              
              <div class="form-group" *ngIf="eventForm.get('isOnline')!.value">
                <label for="onlineLink">Lien de l'événement en ligne</label>
                <input
                  type="text"
                  id="onlineLink"
                  class="form-control"
                  formControlName="onlineLink"
                />
              </div>
              
              <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">
                Add Event
              </button>
            </form> 
        </app-admin-layout>
